{% extends "base_app/base.html" %}

{% block back %}
  {% load static %}
  <a href="{% url "base_app:base" %}">
    <div class ="back">
      <div><img src="{% static 'base_app/images/back.png' %}" width="13"></div>
      <div class="back_content">이전 페이지</div>
    </div>
  </a>
{% endblock %}

{% block content %}
<div class="main_page">
  {% load static %}
  <link rel="stylesheet" type="text/css" href="{% static 'base_app/css/restaurant.css' %}">
  <div class="comment_list">
    {% for comment in comments %}
      <div class="comment">
        <!--writer-->
        <div class="profile_set">
          <div class="profile_image" style="background-color: deepskyblue; width: 35px; height: 35px"></div>
          <div class="profile_content">
            <div class="profile_nickname">커서잘될놈</div>
            <div class="upload_time">18/10/09 16:33</div>
          </div>
          <div class="police">
            <div><img src="{% static 'base_app/images/police.png' %}" width="15"></div>
            <div>신고</div>
          </div>
        </div>

        <!--comment-->
        <div class="comment_set">
          <div class="comment_content">맛있고, 저렴해서 다음에 꼭 갈 듯함, 다들 가서 한 뚝빼기 하삼.</div>
            <div class="grade_set">
              <span class="taste"><b>맛</b><span> A</span></span>
              <span class="cost"><b>가격</b><span> A</span></span>
              <span class="clean"><b>청결</b><span> B</span></span>
              <span class="like"><span><img src="{% static 'base_app/images/like.png' %}" width="12"></span><span> 1</span></span>
              <span class="dislike"><span><img src="{% static 'base_app/images/dislike.png' %}" width="12"></span><span> 1</span></span>
            </div>
          <div class="comment_images">
            <div class="comment_image" style="background-color: limegreen; width: 120px; height: 120px"></div>
            <div class="comment_image" style="background-color: limegreen; width: 120px; height: 120px"></div>
            <div class="comment_image" style="background-color: limegreen; width: 120px; height: 120px"></div>
          </div>
        </div>
      </div>
    {% endfor %}

  </div>
</div>
{% endblock %}

{% block mapMarker %}
  <!--map setting -->
  <script>
    var markers = [];
    var markerCluster= null;
    function initMap() {
        // map options
        var options = {
          {% for restaurant in selected_restaurant %}
            center: {{ restaurant.locate }},
          {% endfor %}
            zoom: 21,
            mapTypeControl: false,
            streetViewControl: false,
            fullscreenControl: false,
            maxZoom: 21,
            };

        // new map
        var map = new
        google.maps.Map(document.getElementById('map'), options);
          {% for restaurant in restaurants %}
              {#var unselected = {#}
              {#    url: '../static/base_app/images/unselected.png',#}
              {#    size: new google.maps.Size(20, 20),};#}
              var marker = new google.maps.Marker({
                  position: {{ restaurant.locate }},
                  map: map,
                  {#icon: unselected,#}
{#                  {% if restaurant == selected_restaurant %}#}
                   //   icon:,
{#                  {% endif %}#}
              });
              markers.push(marker);
          {% endfor %}
       var markerCluster = new MarkerClusterer(map, markers,
            {imagePath: 'https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m'});
      }

  </script>
  <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDbX8bL78zKMX1D7viqLsXJikPwaLB8omQ&callback=initMap"
  async defer></script>
  <script src="https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/markerclusterer.js">
  </script>
{% endblock %}